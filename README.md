
# TVM-TAC-checker

Этот скрипт предназначен для массовой проверки корректности работы проекта [ton-disassembler](https://github.com/espritoxyz/ton-disassembler). Он автоматизирует процесс запуска декомпилятора для списка адресов, собирает статистику ошибок и замеряет время выполнения.

## Функционал
- **Массовый запуск:** Читает адреса из файла и поочередно запускает анализатор.
- **Контроль таймаутов:** Если процесс декомпиляции зависает, скрипт принудительно завершает его.
- **Статистика:** В конце работы выводит отчет о проценте успешных запусков, типах ошибок и медианном времени выполнения.
- **Логирование:** Сохраняет полные трейсы ошибок в `errors_details.log`.

## Требования

Для работы скрипта требуются:
1. **Python 3.7+**
2. **Java Runtime Environment (JRE)** — для запуска `.jar` файла.
3. Библиотека **psutil** — для управления процессами.

Установите зависимость:
```bash
pip install psutil
```

## Установка и настройка

1. Поместите скрипт в корневую директорию проекта `ton-disassembler`.
2. Убедитесь, что скомпилированный JAR-файл находится по пути:
   `tvm-disasm-cli/build/libs/tvm-disasm-cli.jar`
3. Поместите в ту же папку файл `contracts.txt`.

### Формат contracts.txt
Добавьте адреса контрактов (по одному на строку):
```text
EQCcLAW9_98606K6H3uXpFv19I_XVCi-f-5-SbaD0vY
EQAuz988606K6H3uXpFv19I_XVCi-f-5-SbaD0vY
```

## Запуск

Просто запустите Python-скрипт:

```bash
python main.py
```

## Конфигурация

Вы можете изменить параметры в начале скрипта:
- `TIMEOUT_SECONDS = 30`: Максимальное время ожидания одного контракта.
- `INPUT_FILENAME = "contracts.txt"`: Имя файла с адресами.
- `LOG_FILENAME = "errors_details.log"`: Куда записывать подробные ошибки.

## Описание вывода

Скрипт выводит в консоль:
1. Текущий прогресс (`[1/100]`).
2. Результат (`OK`, `FAIL` или `TIMEOUT`).
3. В конце — таблицу с процентом каждой ошибки.
4. Статистику времени (среднее, минимальное, максимальное и медиана) для успешных и неуспешных операций.

```